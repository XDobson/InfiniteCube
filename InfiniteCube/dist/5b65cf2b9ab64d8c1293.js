import"./style.css";import*as THREE from"three";import{OrbitControls}from"three/examples/jsm/controls/OrbitControls.js";import*as dat from"dat.gui";window.buttonisActive=!1,document.getElementById("slider1").oninput=function(){var e=document.getElementById("slider1").value;document.getElementsByTagName("h1")[0].innerHTML="Concept: "+e,document.getElementById("slider1").style.background="hsl(240, 100%,"+e/2+"%)"},document.getElementById("slider2").oninput=function(){var e=document.getElementById("slider2").value;document.getElementsByTagName("h2")[0].innerHTML="Expression: "+e,document.getElementById("slider2").style.background="hsl(58, 100%,"+e/2+"%)"},document.getElementById("slider3").oninput=function(){var e=document.getElementById("slider3").value;document.getElementsByTagName("h3")[0].innerHTML="Intensity: "+e,document.getElementById("slider3").style.background="hsl(0, 100%,"+e/2+"%)"};const canvas=document.querySelector("canvas.webgl"),scene=new THREE.Scene,axis=new THREE.PlaneGeometry(2,2),sphere=new THREE.SphereGeometry(.05,32,32),conceptTexture=(new THREE.TextureLoader).load("https://i.imgur.com/mOjaTrU.jpg");conceptTexture.wrapS=THREE.RepeatWrapping,conceptTexture.wrapT=THREE.RepeatWrapping,conceptTexture.rotation=Math.PI/2*3,conceptTexture.repeat.set(1,1);const expressionTexture=(new THREE.TextureLoader).load("https://i.imgur.com/PQf9Uhr.jpg");expressionTexture.wrapS=THREE.RepeatWrapping,expressionTexture.wrapT=THREE.RepeatWrapping,expressionTexture.repeat.set(1,1);const intensityTexture=(new THREE.TextureLoader).load("https://i.imgur.com/EnV9Vfi.jpg");intensityTexture.wrapS=THREE.RepeatWrapping,intensityTexture.wrapT=THREE.RepeatWrapping,intensityTexture.flipY=!1,intensityTexture.repeat.set(1,1);const material1=new THREE.MeshStandardMaterial;material1.color=new THREE.Color(16776960),material1.transparent=!0,material1.opacity=.3;const material2=new THREE.MeshStandardMaterial;material2.color=new THREE.Color(255),material2.transparent=!0,material2.opacity=.3;const material3=new THREE.MeshStandardMaterial;material3.color=new THREE.Color(16711680),material3.transparent=!0,material3.opacity=.3;const material4=new THREE.MeshStandardMaterial;material4.color=new THREE.Color(65528),material4.transparent=!0,material4.opacity=1;const material5=new THREE.MeshStandardMaterial({map:intensityTexture});material5.color=new THREE.Color(16777215),material5.transparent=!0,material5.opacity=.8;const material6=new THREE.MeshStandardMaterial({map:expressionTexture});material6.color=new THREE.Color(16777215),material6.transparent=!0,material6.opacity=.8;const material7=new THREE.MeshStandardMaterial({map:conceptTexture});material7.color=new THREE.Color(16777215),material7.transparent=!0,material7.opacity=.8;const xaxis=new THREE.Mesh(axis,material5);xaxis.material.side=THREE.DoubleSide,scene.add(xaxis);const yaxis=new THREE.Mesh(axis,material6);yaxis.material.side=THREE.DoubleSide,scene.add(yaxis);const zaxis=new THREE.Mesh(axis,material7);zaxis.material.side=THREE.DoubleSide,scene.add(zaxis);const origin=new THREE.Mesh(sphere,material4);scene.add(origin);const xdot=new THREE.Mesh(sphere,material3);scene.add(xdot);const ydot=new THREE.Mesh(sphere,material2);scene.add(ydot);const zdot=new THREE.Mesh(sphere,material1);scene.add(zdot),xaxis.rotateX(1.5708),xaxis.translateZ(1),yaxis.rotateY(1.5708),yaxis.translateZ(-1),zaxis.rotateZ(1.5708),zaxis.translateZ(-1),xdot.translateZ(-.99),ydot.translateX(-.99),zdot.translateY(-.99);const pointLight=new THREE.PointLight(16777215,1.2);pointLight.position.x=0,pointLight.position.y=0,pointLight.position.z=0,scene.add(pointLight);let ambientLight=new THREE.AmbientLight(16777215,.3);scene.add(ambientLight);const sizes={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",(()=>{sizes.width=window.innerWidth,sizes.height=window.innerHeight,camera.aspect=sizes.width/sizes.height,camera.updateProjectionMatrix(),renderer.setSize(sizes.width,sizes.height),renderer.set,renderer.PixelRatio(Math.min(window.devicePixelRatio,2))}));let camera=new THREE.PerspectiveCamera(45,sizes.width/sizes.height,.1,1e3);function button3Action(){camera.fov=1,camera.position.x=0,camera.position.y=0,camera.position.z=150,camera.updateProjectionMatrix(),document.getElementById("checkbox").checked=!1,window.buttonisActive=!0}function button2Action(){camera.fov=1,camera.position.x=0,camera.position.y=150,camera.position.z=0,camera.updateProjectionMatrix(),document.getElementById("checkbox").checked=!1,window.buttonisActive=!0}function button1Action(){camera.fov=1,camera.position.x=150,camera.position.y=0,camera.position.z=0,camera.updateProjectionMatrix(),document.getElementById("checkbox").checked=!1,window.buttonisActive=!0}camera.position.x=-.5,camera.position.y=1.5,camera.position.z=6,scene.add(camera),canvas.addEventListener("pointerdown",(()=>{document.getElementById("checkbox").checked=!1,camera.fov=45,1==window.buttonisActive&&(camera.position.z=6,camera.position.y=1.5,camera.position.x=-.5,window.buttonisActive=!1),camera.updateProjectionMatrix()}),!1),document.getElementById("button1").onclick=button3Action,document.getElementById("button3").onclick=button2Action,document.getElementById("button2").onclick=button1Action;let controls=new OrbitControls(camera,canvas);controls.enableDamping=!0;const renderer=new THREE.WebGLRenderer({canvas});renderer.setSize(sizes.width,sizes.height),renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));const clock=new THREE.Clock,tick=()=>{const e=clock.getElapsedTime();origin.position.x=.02*document.getElementById("slider1").value-1,origin.position.y=.02*document.getElementById("slider2").value-1,origin.position.z=.02*document.getElementById("slider3").value-1,xdot.position.x=.02*document.getElementById("slider1").value-1,xdot.position.y=.02*document.getElementById("slider2").value-1,ydot.position.y=.02*document.getElementById("slider2").value-1,ydot.position.z=.02*document.getElementById("slider3").value-1,zdot.position.z=.02*document.getElementById("slider3").value-1,zdot.position.x=.02*document.getElementById("slider1").value-1,material4.opacity=Math.sin(3*e)/2+.7,pointLight.position.x=.02*document.getElementById("slider1").value-1,pointLight.position.y=.02*document.getElementById("slider2").value-1,pointLight.position.z=.02*document.getElementById("slider3").value-1,document.getElementById("slider1").value<5&&(pointLight.position.x=-.9),document.getElementById("slider2").value<5&&(pointLight.position.y=-.9),document.getElementById("slider3").value<5&&(pointLight.position.z=-.9);var t=.005,n=camera.position.x,i=camera.position.z;1==document.getElementById("checkbox").checked?(camera.position.x=n*Math.cos(t)+i*Math.sin(t),camera.position.z=i*Math.cos(t)-n*Math.sin(t),controls.enabled=!1):controls.enabled=!0,controls.update(),renderer.render(scene,camera),window.requestAnimationFrame(tick)};tick();